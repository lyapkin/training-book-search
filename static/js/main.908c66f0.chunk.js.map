{"version":3,"sources":["redux/data-reducer/actionTypes.js","redux/data-reducer/reducerData.js","redux/datum-reducer/actionTypes.js","redux/datum-reducer/reducerDatum.js","redux/store.js","env.js","redux/data-reducer/actions.js","components/Search.js","components/BooksList.js","components/LoadMoreBtn.js","components/Home.js","components/Book.js","App.js","reportWebVitals.js","index.js"],"names":["GET_BOOKS_REQUEST","GET_BOOKS_SUCCESS","GET_BOOKS_FAILURE","GET_MORE_BOOKS_REQUEST","GET_MORE_BOOKS_SUCCESS","GET_MORE_BOOKS_FAILURE","CHANGE_DATA","initialState","loading","data","books","totalItems","error","reducerData","state","action","type","payload","GET_ONE_BOOK_REQUEST","GET_ONE_BOOK_SUCCESS","GET_ONE_BOOK_FAILURE","book","rootReducer","combineReducers","oneBook","reducerDatum","store","createStore","applyMiddleware","thunk","API","getBooks","req","isLoadMore","dispatch","getState","startIndex","length","fetch","searchString","category","order","then","res","ok","json","Error","status","items","catch","err","message","url","getBooksSuccess","Search","useState","invalidSearch","setInvalidSearch","searchReq","setSearchReq","history","useHistory","location","useLocation","useDispatch","useEffect","search","params","URLSearchParams","get","className","onSubmit","e","preventDefault","trim","push","pathname","setTimeout","onChange","target","value","htmlFor","id","BooksList","useSelector","replace","list","map","src","volumeInfo","imageLinks","thumbnail","alt","to","title","authors","join","mainCategory","LoadMoreBtn","onClick","paramsURL","Home","Book","useParams","setBook","setLoading","setError","finally","content","categories","description","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.908c66f0.chunk.js","sourcesContent":["export const GET_BOOKS_REQUEST = 'GET_BOOKS_REQUEST'\r\nexport const GET_BOOKS_SUCCESS = 'GET_BOOKS_SUCCESS'\r\nexport const GET_BOOKS_FAILURE = 'GET_BOOKS_FAILURE'\r\nexport const GET_MORE_BOOKS_REQUEST = 'GET_MORE_BOOKS_REQUEST'\r\nexport const GET_MORE_BOOKS_SUCCESS = 'GET_MORE_BOOKS_SUCCESS'\r\nexport const GET_MORE_BOOKS_FAILURE = 'GET_MORE_BOOKS_FAILURE'\r\nexport const CHANGE_DATA = 'CHANGE_DATA'","import {\r\n\tGET_BOOKS_REQUEST,\r\n\tGET_BOOKS_SUCCESS,\r\n\tGET_BOOKS_FAILURE,\r\n\tGET_MORE_BOOKS_REQUEST,\r\n\tGET_MORE_BOOKS_SUCCESS,\r\n\tGET_MORE_BOOKS_FAILURE,\r\n\tCHANGE_DATA\r\n} from './actionTypes'\r\n\r\nconst initialState = {\r\n\tloading: false,\r\n\tdata: {\r\n\t\tbooks: [],\r\n\t\ttotalItems: 0\r\n\t},\r\n\terror: null\r\n}\r\n\r\nconst reducerData = (state=initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase CHANGE_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: action.payload\r\n\t\t\t}\r\n\t\tcase GET_BOOKS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tbooks: [],\r\n\t\t\t\t\ttotalItems: 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase GET_MORE_BOOKS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true\r\n\t\t\t}\r\n\t\tcase GET_BOOKS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tdata: action.payload,\r\n\t\t\t\terror: null\r\n\t\t\t}\r\n\t\tcase GET_MORE_BOOKS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t...state.data,\r\n\t\t\t\t\tbooks: [...state.data.books, ...action.payload]\r\n\t\t\t\t},\r\n\t\t\t\terror: null\r\n\t\t\t}\r\n\t\tcase GET_BOOKS_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tbooks: [],\r\n\t\t\t\t\ttotalItems: 0\r\n\t\t\t\t},\r\n\t\t\t\terror: action.payload\r\n\t\t\t}\r\n\t\tcase GET_MORE_BOOKS_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default reducerData","export const GET_ONE_BOOK_REQUEST = 'GET_ONE_BOOK_REQUEST'\r\nexport const GET_ONE_BOOK_SUCCESS = 'GET_ONE_BOOK_SUCCESS'\r\nexport const GET_ONE_BOOK_FAILURE = 'GET_ONE_BOOK_FAILURE'","import {\r\n\tGET_ONE_BOOK_REQUEST,\r\n\tGET_ONE_BOOK_SUCCESS,\r\n\tGET_ONE_BOOK_FAILURE\r\n} from './actionTypes'\r\n\r\nconst initialState = {\r\n\tloading: false,\r\n\tbook: {},\r\n\terror: null\r\n}\r\n\r\nconst reducerData = (state=initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase GET_ONE_BOOK_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true\r\n\t\t\t}\r\n\t\tcase GET_ONE_BOOK_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tbook: action.payload,\r\n\t\t\t\terror: null\r\n\t\t\t}\r\n\t\tcase GET_ONE_BOOK_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tbook: {},\r\n\t\t\t\terror: action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default reducerData","import {createStore, combineReducers, applyMiddleware} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport reducerData from './data-reducer/reducerData'\r\nimport reducerDatum from './datum-reducer/reducerDatum'\r\n\r\nconst rootReducer = combineReducers({\r\n\tdata: reducerData,\r\n\toneBook: reducerDatum\r\n})\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\nexport default store","export const API = 'AIzaSyDYND6KXstB3nylwAjVCC0ouUqxoVoFn7E'","import {\r\n\tGET_BOOKS_REQUEST,\r\n\tGET_MORE_BOOKS_REQUEST,\r\n\tGET_BOOKS_SUCCESS,\r\n\tGET_MORE_BOOKS_SUCCESS,\r\n\tGET_BOOKS_FAILURE,\r\n\tGET_MORE_BOOKS_FAILURE,\r\n\tCHANGE_DATA\r\n} from './actionTypes'\r\n\r\nimport {API} from '../../env'\r\n\r\nexport const changeData = (data) => {\r\n\treturn {\r\n\t\ttype: CHANGE_DATA,\r\n\t\tpayload: data\r\n\t}\r\n}\r\n\r\nconst getBooksRequest = () => {\r\n\treturn {\r\n\t\ttype: GET_BOOKS_REQUEST\r\n\t}\r\n}\r\n\r\nconst getMoreBooksRequest = () => {\r\n\treturn {\r\n\t\ttype: GET_MORE_BOOKS_REQUEST\r\n\t}\r\n}\r\n\r\nconst getBooksSuccess = data => {\r\n\treturn {\r\n\t\ttype: GET_BOOKS_SUCCESS,\r\n\t\tpayload: data\r\n\t}\r\n}\r\n\r\nconst getMoreBooksSuccess = data => {\r\n\treturn {\r\n\t\ttype: GET_MORE_BOOKS_SUCCESS,\r\n\t\tpayload: data\r\n\t}\r\n}\r\n\r\nconst getBooksFailure = error => {\r\n\treturn {\r\n\t\ttype: GET_BOOKS_FAILURE,\r\n\t\tpayload: error\r\n\t}\r\n}\r\n\r\nconst getMoreBooksFailure = error => {\t\r\n\treturn {\r\n\t\ttype: GET_MORE_BOOKS_FAILURE,\r\n\t\tpayload: error\r\n\t}\r\n}\r\n\r\nexport const getBooks = (req, isLoadMore) => {\r\n\tif (!isLoadMore) {\r\n\t\treturn (dispatch, getState) => {\r\n\t\t\tdispatch(getBooksRequest())\r\n\r\n\t\t\tconst startIndex = 0\r\n\t\t\tconst url = `https://www.googleapis.com/books/v1/volumes?q=${req.searchString}+subject:${req.category}&orderBy=${req.order}&projection=lite&startIndex=${startIndex}&maxResults=30&fields=totalItems,items(id,volumeInfo(title,authors,imageLinks))&key=${API}`\r\n\t\t\t\r\n\t\t\tfetch(url)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.ok) {\r\n\t\t\t\t\t\treturn res.json()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error(res.status)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tconst data = {\r\n\t\t\t\t\t\tbooks: res.items,\r\n\t\t\t\t\t\ttotalItems: res.totalItems\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdispatch(getBooksSuccess(data))\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tdispatch(getBooksFailure(err.message))\r\n\t\t\t\t})\r\n\t\t}\r\n\t} else {\r\n\t\treturn (dispatch, getState) => {\r\n\t\t\tdispatch(getMoreBooksRequest())\r\n\t\t\t\r\n\t\t\tconst startIndex = getState().data.data.books.length\r\n\t\t\t\r\n\t\t\tfetch(`https://www.googleapis.com/books/v1/volumes?q=${req.searchString}+subject:${req.category}&orderBy=${req.order}&projection=lite&startIndex=${startIndex}&maxResults=30&fields=totalItems,items(id,volumeInfo(title,authors,imageLinks))&key=${API}`)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.ok) {\r\n\t\t\t\t\t\treturn res.json()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error(res.status)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tdispatch(getMoreBooksSuccess(res.items))\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tdispatch(getMoreBooksFailure(err.message))\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {useHistory, useLocation} from 'react-router-dom'\r\n\r\nimport {getBooks} from '../redux/data-reducer/actions'\r\n\r\nimport '../component-styles/Search.css'\r\n\r\n\r\n\r\nconst Search = () => {\r\n\tconst [invalidSearch, setInvalidSearch] = useState(false)\r\n\tconst [searchReq, setSearchReq] = useState({\r\n\t\tsearchString: '',\r\n\t\tcategory: '',\r\n\t\torder: 'relevance'\r\n\t})\r\n\r\n\tconst history = useHistory()\r\n\tconst location = useLocation()\r\n\tconst dispatch = useDispatch()\r\n\t\r\n\tuseEffect(() => {\r\n\t\t// change query params data\r\n\t\tif (location.search !== '') {\r\n\t\t\tconst params = new URLSearchParams(location.search)\r\n\t\t\tsetSearchReq({\r\n\t\t\t\tsearchString: params.get('q'),\r\n\t\t\t\tcategory: params.get('category'),\r\n\t\t\t\torder: params.get('orderBy')\r\n\t\t\t})\r\n\t\t}\r\n\t}, [location.search])\r\n\t\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault()\r\n\r\n\t\tif (searchReq.searchString.trim() !== '') {\r\n\t\t\t\r\n\t\t\t// dispatch(saveReqParams(searchReq))\r\n\t\t\thistory.push({\r\n\t\t\t\tpathname: `/training-book-search`,\r\n\t\t\t\tsearch: `?q=${searchReq.searchString}&category=${searchReq.category}&orderBy=${searchReq.order}`\r\n\t\t\t}, {books: [], totalItems: 0})\r\n\t\t\tdispatch(getBooks(searchReq, false))\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tsetInvalidSearch(true)\r\n\t\t\tsetTimeout(() => setInvalidSearch(false), 5000)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header className='header'>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<div className='header__search'>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='search'\r\n\t\t\t\t\t\tonChange={e => setSearchReq({\r\n\t\t\t\t\t\t\t...searchReq,\r\n\t\t\t\t\t\t\tsearchString: e.target.value\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tvalue={searchReq.searchString}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type='submit'>Find</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='header__filter'>\r\n\t\t\t\t\t<div className='header__categories'>\r\n\t\t\t\t\t\t<label htmlFor='categories'>Categories</label>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tid='categories'\r\n\t\t\t\t\t\t\tvalue={searchReq.category}\r\n\t\t\t\t\t\t\tonChange={e => setSearchReq({\r\n\t\t\t\t\t\t\t\t...searchReq,\r\n\t\t\t\t\t\t\t\tcategory: e.target.value\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=''>All</option>\r\n\t\t\t\t\t\t\t<option value='art'>Art</option>\r\n\t\t\t\t\t\t\t<option value='biography'>Biography</option>\r\n\t\t\t\t\t\t\t<option value='computers'>Computers</option>\r\n\t\t\t\t\t\t\t<option value='history'>History</option>\r\n\t\t\t\t\t\t\t<option value='medical'>Medical</option>\r\n\t\t\t\t\t\t\t<option value='poetry'>Poetry</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='header__order'>\r\n\t\t\t\t\t\t<label htmlFor='sort'>Sorting by</label>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tid='sort'\r\n\t\t\t\t\t\t\tvalue={searchReq.order}\r\n\t\t\t\t\t\t\tonChange={e => setSearchReq({\r\n\t\t\t\t\t\t\t\t...searchReq,\r\n\t\t\t\t\t\t\t\torder: e.target.value\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value='relevance'>Relevance</option>\r\n\t\t\t\t\t\t\t<option value='newest'>Newest</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\r\n\t\t\t{invalidSearch ? <div>Fill the input</div> : null}\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Search","import React, { useEffect } from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {Link, useHistory, useLocation} from 'react-router-dom'\r\n\r\nimport '../component-styles/BooksList.css'\r\n\r\nimport {changeData} from '../redux/data-reducer/actions'\r\n\r\nconst BooksList = () => {\r\n\tconst books = useSelector(state => state.data.data.books)\r\n\tconst totalItems = useSelector(state => state.data.data.totalItems)\r\n\r\n\tconst history = useHistory()\r\n\tconst location = useLocation()\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tuseEffect(() => {\r\n\t\tif (location.state?.totalItems === 0) {\r\n\t\t\thistory.replace(`/training-book-search/${location.search}`, {books: books, totalItems: totalItems})\r\n\t\t}\r\n\t}, [books])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (location.state?.totalItems) {\r\n\t\t\tdispatch(changeData(location.state))\r\n\t\t}\r\n\t}, [location.search])\r\n\t\r\n\tconst list = books.map(book => (\r\n\t\t\t<article className='booklist__item' key={book.id}>\r\n\t\t\t\t<img src={book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : ''} alt=''/>\r\n\t\t\t\t<Link to={`/training-book-search/${book.id}`} >{book.volumeInfo.title}</Link>\r\n\t\t\t\t<span>Authors: {book.volumeInfo.authors ? book.volumeInfo.authors.join(', ') : ''}</span>\r\n\t\t\t\t<span>Category: {book.volumeInfo.mainCategory}</span>\r\n\t\t\t</article>\r\n\t\t)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<section className='search-result'>\r\n\t\t\t\r\n\t\t\t{totalItems ? <div>Found {totalItems} results</div> : null}\r\n\t\t\t<div className='booklist'>\t\r\n\t\t\t\t{list}\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</section>\r\n\t)\r\n}\r\n\r\nexport default BooksList","import React from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nimport {getBooks} from '../redux/data-reducer/actions'\r\n\r\nimport '../component-styles/LoadMoreBtn.css'\r\n\r\nconst LoadMoreBtn = () => {\r\n\tconst data = useSelector(state => state.data.data)\r\n\t\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst location = useLocation()\r\n\r\n\tconst handleClick = () => {\r\n\t\tconst paramsURL = new URLSearchParams(location.search)\r\n\t\tconst params = {\r\n\t\t\tsearchString: paramsURL.get('q'),\r\n\t\t\tcategory: paramsURL.get('category'),\r\n\t\t\torder: paramsURL.get('orderBy')\r\n\t\t}\r\n\t\tdispatch(getBooks(params, true))\r\n\t}\r\n\r\n\treturn (\r\n\t\tdata.books.length < data.totalItems ?\r\n\t\t<div className='load-more'>\r\n\t\t\t<button onClick={handleClick}>Load more</button>\r\n\t\t</div> :\r\n\t\tnull\r\n\t)\r\n}\r\n\r\nexport default LoadMoreBtn","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport BooksList from './BooksList'\r\nimport LoadMoreBtn from './LoadMoreBtn'\r\n\r\nfunction Home() {\r\n    const loading = useSelector(state => state.data.loading)\r\n\tconst error = useSelector(state => state.data.error)\r\n    const books = useSelector(state => state.data.data.books)\r\n\r\n    return (\r\n        <div>\r\n            {loading && 'loading'}\r\n            {error}\r\n            {books.length > 0 &&\r\n            <>\r\n                <BooksList />\r\n                <LoadMoreBtn />\r\n            </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, {useState, useEffect} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\n\r\nimport '../component-styles/Book.css'\r\n\r\nimport {API} from '../env'\r\n\r\nconst Book = () => {\r\n\tconst {id} = useParams()\r\n\tconst [book, setBook] = useState({})\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [error, setError] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true)\r\n\t\tfetch(`https://www.googleapis.com/books/v1/volumes/${id}?key=${API}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.ok) {\r\n\t\t\t\t\treturn res.json()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(res.status)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetBook(res.volumeInfo)\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetError(err.message)\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.finally(() => setLoading(false))\r\n\t}, [])\r\n\r\n\tconst content = book.title ? (\r\n\t\t<div className='book'>\r\n\t\t\t<img src={book.imageLinks.thumbnail} alt='' />\r\n\t\t\t<h2>{book.title}</h2>\r\n\t\t\t<p className='book__categories'>Categories: {book.categories ? book.categories.join('/') : null}</p>\r\n\t\t\t<p className='book__authors'>Authors: {book.authors ? book.authors.join(', ') : null}</p>\r\n\t\t\t<div className='book__description'>\r\n\t\t\t\t<span>Description:</span>\r\n\t\t\t\t<p>{book.description}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : null\r\n\r\n\treturn (\r\n\t\t<section>\r\n\t\t\t{loading ? 'loading' : error ? error : content}\r\n\t\t</section>\r\n\t)\r\n}\r\n\r\nexport default Book","import './App.css';\r\nimport {Provider} from 'react-redux'\r\nimport store from './redux/store'\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\r\n\r\nimport Search from './components/Search'\r\nimport Home from './components/Home'\r\nimport Book from './components/Book'\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n\t  \t<Router>\r\n\t  \t\t<Search />\r\n\t  \t\t<Switch>\r\n\t  \t\t\t<Route exact path='/training-book-search'>\r\n\t    \t\t\t<Home />\r\n\t    \t\t</Route>\r\n\t    \t\t<Route path='/training-book-search/:id'>\r\n\t    \t\t\t<Book />\r\n\t    \t\t</Route>\r\n\t    \t</Switch>\r\n\t  \t</Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}